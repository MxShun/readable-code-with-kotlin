# 9章 変数と読みやすさ *Variables and Readability*

1) 変数が多いと変数を追跡するのが難しくなる
2) 変数のスコープが大きいとスコープを把握する時間が長くなる
3) 変数が頻繁に変更されると現在の値を把握するのが難しくなる

### 9.1 変数を削除する *Eliminating Variables*
役に立たない一時変数は削除する。役に立たない変数には次のような特徴がある。

- 複雑な式を分割していない
- より明確になっていない
- 一度しか使っていないので、重複コードの削除になっていない

中間結果を削除する。タスクはできるだけ早く完了する方がいい。

制御フロー変数を削除する。制御フロー変数はプログラムの実行を制御するためだけの変数であり、うまくプログラミングすれば削除することができる。

### 9.2 変数のスコープを縮める *Shrink the Scope of Your Variables*
「グローバル変数は避ける」というアドバイスは、誰もが一度は耳にしたことがあるはずだ。グローバル変数というのは、どこでどのように使われるのかを追跡するのが難しい。グローバル変数に限らず、すべての変数のスコープを縮めることはいい考えだ。

では、なぜ変数のスコープを縮めることがいいこととされているのだろう？ それは、一度に考えなければいけない変数を減らせるからだ。すべての変数のスコープを 1/2 に縮めることができれば、スコープに存在する変数の数は平均して 1/2 になる。

クラスのメンバへのアクセスを制限するもうひとつの方法は、メソッドをできるだけ static にすることだ。 static メソッドを使えば、メンバ変数とは関係ないことがよくわかる。

もうひとつの方法は、大きなクラスを小さなクラスに分割することだ。ただし、分割後のクラスが独立していなければ問題ないけど、クラスで相互にメンバを参照しあうようならやっても意味がない。分割したいのはデータなのである。

### 9.3 変数は一度だけ書き込む *Prefer Write-Once Variables*
生きている変数が多いとコードが理解しにくくなることを説明した。でも、もっと理解しにくいのは変数が絶えず変更され続けることだ。

この問題と戦うために、ちょっと変わったものを提案したい。それは、変数は一度だけ書き込むというものだ。

Kotlin でいうならばイミュータブル、 value で扱うということになる。

### 9.4 最後の例 *A Final Example*

### 9.5 まとめ *Summary*
変数を減らして、できるだけ軽量にすれば、コードは読みやすくなる。

- 邪魔な変数を削除する
- 変数のスコープをできるだけ小さくする
- 一度だけ書き込む変数を使う
